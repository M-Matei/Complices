<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <link rel="icon" href="jail.ico" type="image/x-icon">

    <script type="text/javascript" src="script.js"></script>
    <link rel="stylesheet" href="styleLevel.css"></script>

    <title>Évasion télépathique</title>
</head>
<body>
    <main x-data="app()" x-init="">

        <!-- SPY -->
        <section class="screen1">
            <div>

                <section>
                    <h1>Complices</h1>
                    <fieldset>
                        <legend><b>Common UI</b></legend>
                        <p x-text="'Cycle n°' + nbCycle"></p>
                        <p x-text="'Essai n°'+ nbTry"></p>
                        <p x-text="'Joueur actif : ' + joueurActif"></p>
        
                        <aside>Historique des actions</aside>
                        <div class="scrollable-div"></div>
        
                    </fieldset>
                </section>

                <h2>SPY board - Joueur Souris</h2>


                <b><p x-text="calqueVisible ? 'Calque visible pour l\'espion : ' + calquesText[calqueVisible] : 'Aucun calque visible, choississez-en un dans la liste'"></p></b>
                <b><p x-text="calqueActif ? 'Calque désactivé pour le prisonnier : ' + calquesText[calqueActif] + ' - ' + calquesExplanationActive[calqueActif] : 'Aucun calque désactivé pour le moment'"></p></b>    

                <button @click="explore()" :disabled="isDisabled">Aperçu de tous les calques</button>

                <div>
                    <button @click="displayGrid('SPY','Sortie','.grid',true)" :disabled="!isDisabled">Sortie</button>
                    <button @click="displayGrid('SPY','Bordures','.grid',true)" :disabled="!isDisabled">Bordures</button>
                    <button @click="displayGrid('SPY','Mines','.grid',true)" :disabled="!isDisabled">Mines</button>
                    <button @click="displayGrid('SPY','Camera','.grid',true)" :disabled="!isDisabled">Caméra</button>
                    <button @click="displayGrid('SPY','Laser','.grid',true)" :disabled="!isDisabled">Laser</button>
                </div>
            </div>

            <div id="screenCalqueVisible" class="grid"></div>
            <div x-show="calqueVisible === 'Laser'" x-text="'Nombre de cycles avant prochain déplacement vers le bord opposé au laser : ' + nbCycleBeforeMoveLaser"></div>

            <button @click="giveHand('PRISONNER')" :disabled="!spyBoard">PASSER LA MAIN</button>

        </section>


        <!-- PRISONNER  -->
        <section class="screen2">
            <div>

                <section>
                    <h1>Complices</h1>
                    <fieldset>
                        <legend><b>Common UI</b></legend>
                        <p x-text="'Cycle n°' + nbCycle"></p>
                        <p x-text="'Essai n°'+ nbTry"></p>
                        <p x-text="'Joueur actif : ' + joueurActif"></p>
        
                        <aside>Historique des actions</aside>
                        <div class="scrollable-div"></div>
        
                    </fieldset>
                </section>

                <h2>PRISONNER board - Joueur Clavier</h2>

                <h3>Déplacement</h3>
                <button>&uarr;</button>
                <button>&larr;</button>
                <button>&rarr;</button>
                <button>&darr;</button>

                <br><h3>Actions spéciales</h3>
                <button x-text="'[L] Disjoncteur LASER * ' + nbDisjoncteur" :disabled="nbDisjoncteur === 0"></button>
                <button x-text="'[P] Piratage des caméras * ' + nbPiratage" :disabled="nbPiratage === 0"></button>

                <br><br>
                <legend x-text="'Déminage directionnel * ' + nbDeminage"></legend>
                <button :disabled="nbDeminage === 0">[W] Déminage &uarr; puis déplacement</button>
                <button :disabled="nbDeminage === 0">[S] Déminage &larr; puis déplacement</button>
                <button :disabled="nbDeminage === 0">[A] Déminage &rarr; puis déplacement</button>
                <button :disabled="nbDeminage === 0">[D] Déminage &darr; puis déplacement</button>
                

                <br><br><div class="gridPrisonner"></div>

                <br><button @click="giveHand('SPY')" :disabled="spyBoard">PASSER LA MAIN</button>
            </div>

        </section>

    </main>
</body>
</html>