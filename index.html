<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <link rel="icon" href="jail.ico" type="image/x-icon">

    <script type="text/javascript" src="script.js"></script>
    <link rel="stylesheet" href="styleLevel.css"></script>

    <title>Évasion télépathique</title>
</head>
<body>
    <main x-data="app()" x-init="">

        <!-- SPY -->
        <section class="screen1">
            <div>

                <section>
                    <h1>Complices</h1>
                    <fieldset>
                        <legend><b>Interface globale</b></legend>
                        <p x-text="'Cycle n°' + nbCycle"></p>
                        <p x-text="'Essai n°'+ nbTry"></p>
                        <!-- <p x-text="'Joueur actif : ' + joueurActif"></p> -->
        
                        <aside>Historique des actions</aside>
                        <div class="scrollable-div"></div>
        
                    </fieldset>
                </section>

                <h3>Écran de l'espion - Joueur Souris</h3>


                <b><p x-text="calqueVisible ? 'Calque visible pour l\'espion : ' + calquesText[calqueVisible] : 'Aucun calque visible, choississez-en un dans la liste'"></p></b>
                <b><p x-text="calqueActif ? 'Calque désactivé pour le prisonnier : ' + calquesText[calqueActif] + ' - ' + calquesExplanationActive[calqueActif] : 'Aucun calque désactivé pour le moment'"></p></b>    

                <button @click="explore()" :disabled="isDisabled">Aperçu de tous les calques</button>

                <div>
                    <button @click="displayGrid('SPY','Sortie','.grid',true)" :disabled="!isDisabled">Sortie</button>
                    <button @click="displayGrid('SPY','Bordures','.grid',true)" :disabled="!isDisabled">Bordures</button>
                    <button @click="displayGrid('SPY','Mines','.grid',true)" :disabled="!isDisabled">Mines</button>
                    <button @click="displayGrid('SPY','Camera','.grid',true)" :disabled="!isDisabled">Caméra</button>
                    <button @click="displayGrid('SPY','Laser','.grid',true)" :disabled="!isDisabled">Laser</button>
                </div>
            </div>

            <div id="screenCalqueVisible" class="grid"></div>
            <div x-show="calqueVisible === 'Laser'" x-text="'Nombre de cycles avant prochain déplacement vers le bord opposé au laser : ' + nbCycleBeforeMoveLaser"></div>

            <!-- Changement dans le gameplay : les joueurs jouent en simultané -->
            <!-- <button @click="giveHand('PRISONNER')" :disabled="!spyBoard">PASSER LA MAIN</button> -->

        </section>


        <!-- PRISONNER  -->
        <section class="screen2">
            <div>

                <section>
                    <h1>Complices</h1>
                    <fieldset>
                        <legend><b>Interface globale</b></legend>
                        <p x-text="'Cycle n°' + nbCycle"></p>
                        <p x-text="'Essai n°'+ nbTry"></p>
                        <!-- <p x-text="'Joueur actif : ' + joueurActif"></p> -->
        
                        <aside>Historique des actions</aside>
                        <div class="scrollable-div"></div>
        
                    </fieldset>
                </section>

                <h3>Écran du prisonnier - Joueur Clavier</h3>

                <div><b>Déplacements </b> [Fléches] &uarr; &larr; &rarr; &darr; </div>
                
                <div><h4>Actions spéciales</h4>
                <p x-text="'[L] - Disjoncteur LASER * ' + nbDisjoncteur"></p>
                <p x-text="'[P] - Piratage des caméras * ' + nbPiratage"></p>

                <b x-text="'Déminage directionnel * ' + nbDeminage"></b>
                <p>[W] - Déminage &uarr; puis déplacement</p>
                <p>[S] - Déminage &larr; puis déplacement</p>
                <p>[A] - Déminage &rarr; puis déplacement</p>
                <p>[D] - Déminage &darr; puis déplacement</p>
                

                <br><br><div class="gridPrisonner"></div>

                <!-- Changement dans le gameplay : les joueurs jouent en simultané -->
                <!-- <br><button @click="giveHand('SPY')" :disabled="spyBoard">PASSER LA MAIN</button> -->
            </div>

        </section>

    </main>
</body>
</html>